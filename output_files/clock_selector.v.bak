module clock_selector (
    output reg new_clock,  
    
    input clock,           
    input [1:0] rega,      
    input [1:0] limpeza    
);

    clock_divisor(new_frequency1, clock, 1);
    clock_divisor(new_frequency2, new_frequency1, 1);
    clock_divisor(new_frequency3, new_frequency2, 1);
    clock_divisor(new_frequency4, new_frequency3, 1);
    clock_divisor(new_frequency5, new_frequency4, 1);
    clock_divisor(new_frequency6, new_frequency5, 1);
    clock_divisor(new_frequency7, new_frequency6, 1);
    clock_divisor(new_frequency8, new_frequency7, 1);

    always @ (posedge clock) begin
        if (rega == 2'b01) begin
            // Se rega for 01 ou Gotejamento
            new_clock <= new_frequency5;

        end else if (rega == 2'b10) begin
            // Se rega for 10 ou Aspersão
            new_clock <= new_frequency6;

        end else if (rega == 2'b10 && limpeza == 2'b10) begin
            // Se rega for 10 (aspersão) e limpeza for 10 (ativo)
            new_clock <= new_frequency3;

        end else begin
            // Caso contrário (enchimento)
            new_clock <= new_frequency5;
        end
    end

endmodule